{% extends "base.html" %} {% block title %} Schedule Task {% endblock %} {%
block content %}
<article>
  <h1>Schedule a New Task</h1>
  <form action="" method="post">
    {% csrf_token %}
    <label for="endpoint">Endpoint:</label>
    <input type="text" id="endpoint" name="endpoint" required /><br /><br />
    <label for="interval">Interval (in seconds):</label>
    <input type="number" id="interval" name="interval" required /><br /><br />
    <button type="submit">Schedule Task</button>
  </form>
</article>

<h2>Current Scheduled Tasks</h2>
{% if tasks %}
<ul>
  {% for task, details in tasks.items %}
  <li>
    {{ task }}: Every {{ details.schedule }} seconds to {{ details.args.0 }}
  </li>
  {% endfor %}
</ul>
{% else %}
<p>No tasks scheduled.</p>
{% endif %} {% if error %}
<p style="color: red">{{ error }}</p>
{% endif %} {% endblock %}
